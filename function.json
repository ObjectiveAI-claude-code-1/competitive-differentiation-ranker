{
  "type": "vector.function",
  "description": "Evaluate startup ideas for relative competitive differentiation. Produces a probability distribution (scores summing to ~1) representing each idea's differentiation share. Evaluates uniqueness, defensibility, positioning, and pivot barriers. Accepts text, image, audio, video, or composite pitches.",
  "input_schema": {
    "type": "object",
    "description": "A batch of startup ideas to evaluate for relative competitive differentiation",
    "properties": {
      "items": {
        "type": "array",
        "description": "Array of startup ideas to compare. Each idea can be a text pitch, image, audio, video, or composite (array of multiple formats). Requires at least 2 items to perform meaningful comparison.",
        "minItems": 2,
        "items": {
          "anyOf": [
            {
              "type": "string",
              "description": "A text-based startup pitch (elevator pitch, one-pager summary, etc.)"
            },
            {
              "type": "image",
              "description": "An image-based pitch (pitch deck slide, product mockup, market diagram, etc.)"
            },
            {
              "type": "audio",
              "description": "An audio pitch (verbal elevator pitch, podcast-style explanation, etc.)"
            },
            {
              "type": "video",
              "description": "A video pitch (demo video, founder pitch, product walkthrough, etc.)"
            },
            {
              "type": "array",
              "description": "A composite pitch combining multiple formats",
              "minItems": 1,
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "description": "Text component of composite pitch"
                  },
                  {
                    "type": "image",
                    "description": "Image component of composite pitch"
                  },
                  {
                    "type": "audio",
                    "description": "Audio component of composite pitch"
                  },
                  {
                    "type": "video",
                    "description": "Video component of composite pitch"
                  }
                ]
              }
            }
          ]
        }
      }
    },
    "required": [
      "items"
    ]
  },
  "input_maps": [],
  "tasks": [
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert at evaluating startup positioning and conceptual differentiation. Your task is to assess which startup ideas occupy unique conceptual territory versus overlapping or crowded space.\n\nConsider:\n- Novel problem framing vs. conventional approaches\n- Unexplored domain intersections\n- Paradigm challenges vs. accepting industry orthodoxy\n- Which ideas would be seen as substitutes for each other\n- Which ideas define problems in ways competitors don't\n\nYou will be shown multiple startup ideas. Vote for the idea that has the MOST unique conceptual territory relative to the others in this specific set."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Compare these startup ideas for RELATIVE UNIQUENESS of conceptual territory:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Compare these startup ideas for RELATIVE UNIQUENESS of conceptual territory:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' has the most unique conceptual territory'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    },
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert at evaluating startup defensibility and competitive moats. Your task is to assess which startup ideas have the strongest structural advantages that would protect their competitive position over time.\n\nConsider:\n- Network effects: Does the product become more valuable as more people use it?\n- Data moats: Would the idea generate proprietary, hard-to-replicate data?\n- Switching costs: How hard would it be for users to switch to alternatives?\n- Economies of scale: Does the idea benefit from scale in defensible ways?\n- Brand and trust advantages: Can the idea build lasting brand loyalty?\n\nYou will be shown multiple startup ideas. Vote for the idea that has the STRONGEST defensibility and moat potential relative to the others in this specific set."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Compare these startup ideas for DEFENSIBILITY AND MOAT POTENTIAL:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Compare these startup ideas for DEFENSIBILITY AND MOAT POTENTIAL:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' has the strongest defensibility and moat potential'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    },
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert at evaluating startup competitive positioning. Your task is to assess which startup ideas have the strongest competitive position within this specific set.\n\nConsider:\n- Dominance relationships: Is any idea clearly superior to others in solving similar problems?\n- Category creation vs. competition: Is the idea creating a new category or competing in a crowded one?\n- Blue ocean vs. red ocean: Is the idea in uncontested market space or fierce competition?\n- Positional clarity: Does the idea have a clear, sharp position vs. trying to be everything?\n- Market positioning: Which idea would most likely outcompete the others?\n\nYou will be shown multiple startup ideas. Vote for the idea that has the BEST competitive positioning relative to the others in this specific set."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Compare these startup ideas for COMPETITIVE POSITIONING:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Compare these startup ideas for COMPETITIVE POSITIONING:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' has the best competitive positioning'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    },
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert at evaluating startup pivot barriers. Your task is to assess how well each startup idea is protected from the OTHER ideas in this set pivoting into its space.\n\nConsider:\n- Technical barriers: How hard would it be for other ideas to replicate the technical approach?\n- Domain expertise barriers: Does the idea require specialized knowledge others lack?\n- Business model barriers: Would pivoting create conflicts for the other ideas?\n- Resource and time barriers: Would replication require significant capital, time, or talent?\n- First-mover advantages: Does the idea have timing advantages that are hard to overcome?\n\nYou will be shown multiple startup ideas. Vote for the idea that is MOST PROTECTED from the other ideas pivoting into its space."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Compare these startup ideas for PIVOT BARRIER PROTECTION:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Compare these startup ideas for PIVOT BARRIER PROTECTION:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' is most protected from competitive pivots'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    },
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert at identifying similarity and clustering among startup ideas. Your task is to find the idea that is MOST DIFFERENTIATED and ISOLATED from others - the idea that stands ALONE without similar competitors in this batch.\n\nConsider:\n- Are any ideas targeting the same market with similar approaches?\n- Are there clusters of ideas that would compete directly?\n- Which ideas are essentially variations of the same concept?\n- Which ideas exist in crowded clusters vs. standing alone?\n\nVote for the idea that is MOST ISOLATED from others - the idea that has NO similar competitors in this batch. Ideas that exist in crowded clusters should NOT receive votes.\n\nYou will be shown multiple startup ideas. Vote for the idea with the MOST differentiation from others in this specific set."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Identify which idea is MOST ISOLATED and DIFFERENTIATED from others in this batch:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Identify which idea is MOST ISOLATED and DIFFERENTIATED from others in this batch:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' is most isolated and differentiated from others in this batch'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    },
    {
      "type": "vector.completion",
      "messages": [
        {
          "role": "system",
          "content": [
            {
              "type": "text",
              "text": "You are an expert startup analyst making a FINAL HOLISTIC ASSESSMENT of competitive differentiation. Consider all dimensions:\n\n1. UNIQUENESS: Which ideas occupy distinct conceptual territory?\n2. DEFENSIBILITY: Which have structural moats and barriers to competition?\n3. POSITIONING: Which have clear, credible competitive positioning?\n4. PIVOT BARRIERS: Which are protected from others pivoting into their space?\n5. ISOLATION: Which stand alone vs. exist in crowded clusters?\n\nVote for the idea with the STRONGEST OVERALL DIFFERENTIATION. This idea should stand apart from all others across multiple dimensions.\n\nYou will be shown multiple startup ideas. Vote for the single idea that is most differentiated overall."
            }
          ]
        },
        {
          "role": "user",
          "content": {
            "$starlark": "def format_items(items):\n    has_multimodal = False\n    for item in items:\n        if type(item) != 'string':\n            has_multimodal = True\n            break\n    if not has_multimodal:\n        text = 'Make a FINAL HOLISTIC assessment of competitive differentiation:\\n\\n'\n        for i, item in enumerate(items):\n            text += 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'\n        return [{'type': 'text', 'text': text.rstrip()}]\n    else:\n        result = [{'type': 'text', 'text': 'Make a FINAL HOLISTIC assessment of competitive differentiation:\\n\\n'}]\n        for i, item in enumerate(items):\n            if type(item) == 'string':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n' + item + '\\n\\n'})\n            elif type(item) == 'dict':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                result.append(item)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n            elif type(item) == 'list':\n                result.append({'type': 'text', 'text': 'IDEA ' + str(i+1) + ':\\n'})\n                for part in item:\n                    if type(part) == 'string':\n                        result.append({'type': 'text', 'text': part})\n                    else:\n                        result.append(part)\n                result.append({'type': 'text', 'text': '\\n\\n'})\n        return result\n\nformat_items(input['items'])"
          }
        }
      ],
      "responses": {
        "$starlark": "[[{'type': 'text', 'text': 'IDEA ' + str(i+1) + ' is most differentiated overall'}] for i in range(len(input['items']))]"
      },
      "output": {
        "$starlark": "output['scores']"
      }
    }
  ],
  "output_length": {
    "$starlark": "len(input['items'])"
  },
  "input_split": {
    "$starlark": "[{'items': [item]} for item in input['items']]"
  },
  "input_merge": {
    "$starlark": "{'items': [sub['items'][0] for sub in input]}"
  }
}